import{_ as v,h as i,k as f,l as w,o as S,c as y,a as o,m as I,q as u,v as p,F as b,p as x,d as V}from"./index-c031988c.js";import{u as k}from"./userinfo-61623ba8.js";const m=l=>(x("data-v-0d0dc679"),l=l(),V(),l),L=m(()=>o("div",{class:"login-bg"},null,-1)),T={class:"log"},U={class:"login-container"},q=["onSubmit"],B=m(()=>o("button",{type:"submit"},"Login",-1)),C={__name:"LoginView",setup(l){const r=i(""),c=i(""),d=f(),t=k();w(()=>{t.getStatus&&d.push({name:"student"})});const _=()=>{try{console.log(t.getInfo),console.log(t.getStatus)}catch(a){console.log(a)}},g=()=>{d.push({name:"student"})},h=()=>{var a=new Headers;a.append("Content-Type","application/json");var s=JSON.stringify({UserName:r.value,PassWord:c.value}),n={method:"POST",headers:a,body:s,redirect:"follow"};fetch("http://localhost:8080/api/auth/",n).then(e=>e.json()).then(e=>{e.status==!0&&e.message=="Success"?(delete e.status,delete e.message,t.set(e)):console.log(1331333)}).catch(e=>console.log("error",e)),console.log(t.getInfo),console.log(t.getStatus)};return(a,s)=>(S(),y(b,null,[L,o("div",T,[o("div",U,[o("div",{class:"logo-container"},[o("img",{onClick:_,src:"https://cdn.discordapp.com/attachments/1156502394201448478/1168215081658626068/Thammasat_Horz_logo_route1_01.png",alt:"Thammasat University Logo"})]),o("form",{class:"login-form",onSubmit:I(h,["prevent"])},[u(o("input",{onClick:g,"onUpdate:modelValue":s[0]||(s[0]=n=>r.value=n),type:"text",id:"username",placeholder:"Username",autocomplete:"username",required:""},null,512),[[p,r.value]]),u(o("input",{"onUpdate:modelValue":s[1]||(s[1]=n=>c.value=n),type:"password",id:"password",placeholder:"Password",autocomplete:"current-password",required:""},null,512),[[p,c.value]]),B],40,q)])])],64))}},N=v(C,[["__scopeId","data-v-0d0dc679"]]);export{N as default};
